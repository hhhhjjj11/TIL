tcpschool에 잘나와있음 참고.
# AJAX 
- 비동기 통신을 이용하면, 화면 전체를 새로고침 하지 않아도 서버로 요청을 보내고 데이터를 받아서 화면의 일부분만 업데이트 가능
- Asynchronous JavaScript And Xml 
- 이러한 '비동기 통신 웹 개발 기술'을 AJAX라고 함
- 웹 통신을 위한 라이브러리중 하나가 Axios
- 참고 : AJAX이름의 라이브러리도 있음
  - 비슷한 기능 담은 라이브러리 만들면서 이름을 그대로 따왔음

## AJAX 특징
1. 페이지 전체를 reload(새로고침)하지 않아도 수행됨
2. 일부분만 업데이트 

## 한계
1. 클라이언트가 서버에 데이터를 요청해야만 서버로부터 응답을 받을 수 있는 "클라이언트 풀링" 방식을 쓰고 있음.
반면, AJAX만으로는 서버가 알아서 클라이언트에 데이터를 보내는 "서버푸시" 방식 사용 못함. -> 실시간 서비스 못 만듬.
예) 서버푸시방식의 예 - 채팅방에서 누가 들어왔을 경우 누가 들어왔다고 알려주는 기능 같은거 

2. 다른 서버로 요청 보낼 수는 없음. (동일 출처 정책)

# 실습 - 좋아요, 팔로우
# 좋아요 실습
1. base템플릿에 script block추가
```html
{% block script %}
{% endblock %}
```
2. profile.html에서
 - 1. 기존의 폼태그의 속성을 삭제해줘야 됨 -> 왜? 폼으로 보내면 새로고침됨 -> 이제는, form으로 요청안보냄, 폼은 진짜 폼일뿐
  - 2. 폼으로 요청 보내는 것이아니라! js에서 axios이용해서 보낼거임!
  - 3. axios cdn을 들고와야함.  (axios 요청 보내려면 있어야됨)
  - 참고 : base.html 에 axios cdn을 넣으면 되는거 아닌가? 
      - 그러면 펀하긴한데, 모든페이지에서 axios를 쓰는 것은 아니므로, 좀 더 효율적이려면 쓰는 페이지에서만 넣어주는 것이 더 좋다.
  - 4. 폼태그에 "제출시 서버로 요청보내는 이벤트핸들러" 장착
  
### axios 코드 작성시 주의 사항1 : data속성 이용해서 html에서 person_pk가져오기
1. 좋아요 요청의 경우, post요청을 "/accounts/<str:userpk>/follow/"로 보내줘야함
2. 템플릿에서 요청을 보낼 때랑 비교해보자. form태그에 DTL을 써서 action과 method속성을 지정했었다.
```html
<form action={% url 'accoutnts:follow' person_pk %} method "POST">
```
3. 위와 같이 하면 됐었음. 근데 이제는 script태그안에 js로 작성할거임. 그러면 html로부터 person_pk를 받아와야 함. (다른 요소들을 querySelector메소드를 이용해서 접근했었던것 처럼!)
4. 이것을 하는방법 = data속성 이용!!

### data-* attributes
- 참고 링크 : 


<hr><hr>
오후실습
<hr><hr>

오후실습

## CORS
1. test.js에서 서버로 요청 보내면 CORS에러남
이유 : 동일한 출처가 아닌 다른 출처에서 리소스에 접근하는 것을 제한. 

2. CORS에러 (Cross Origin Resource Sharing)
- 도메인 또는 포트가 다른 서버의 자원을 요청시.


3. django-cors-headers 
- CORS에러 해결을위한 라이브러리
- 세팅하기
  1. pip install
  2. settings.py > INSTALLEDAPP 에 'corsheaders' 추가
  3. settings.py > MIDDLEWARES 에 'corsheaders.middleware.CorsMiddleware' 추가
  4. settings.py 에 CORS_ORIGIN_WHITELIST = [] 에 도메인이나 포트가 달라도 요청을 허용할 주소 목록 작성
  5. 또는, 전부 허용 하고 싶은 경우 (CORS보안 정책을 안 쓸 경우 ) -> CORS_ORIGIN_ALLOW_ALL 작성.

## axios로 GET요청시 데이터 담아보내기
```js
getBtn.addEventListener('click', (e)=>{
        axios({
            method: 'POST',
            url: 'http://127.0.0.1:8000/api/v1/articles/',
             params: {
                 content: 'test'
             },
        }).then((response) => {
            console.log('response = ', response)
        }).catch((error) => {
            console.log('error = ', error)
        })
        console.log(e.target)
```

## axios로 POST요청시 데이터 담아보내기
```js
    getBtn.addEventListener('click', (e)=>{
        axios({
            method: 'POST',
            url: 'http://127.0.0.1:8000/api/v1/articles/',
            data : {
                name: '이름',
                email: 'email',
            }
        }).then((response) => {
            console.log('response = ', response)
        }).catch((error) => {
            console.log('error = ', error)
        })
        console.log(e.target)
    })

```