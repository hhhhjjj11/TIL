# Entity 작성
- [개념]
    - dto임.
    - 따로 DB에서 SQL이용해서 테이블을 create할 필요 없이, 
    - 설정중에 hibernate.ddl-auto = true 로 설정할 시 DB에 해당 테이블이 없으면 자동으로 만들어 줌. (물론 이 설정 안하면 에러남. not exists table)

<hr>

## 1:N 관계 
### [개념]
- 연결관계의 주인 : 주인테이블.연결테이블로 연결된 테이블에 접근 할 수 있다.
- 보통 연결관계의 주인은 외래키를 가지고있는 테이블로 정한다.
- 그리고 보통 1:N관계에서 N테이블에 외래키를 만든다.
- 따라서 보통 1대N관계에서 연결관계의 주인은 N테이블이다
- 연결하는 방법은 다음과 같다
    1. 주인테이블(N)에 연결테이블의 인스턴스를 변수로 만들고 실제로는 @JoinColumn을 이용해서 외래키(member_id)와 매핑한다.
    ```java
    @ManyToOne
    @JoinColumn(name="member_id")
    private Member member;  // 이렇게 변수를 만들고 @JoinColumn을이용해서 member클래스의 어떤 변수(필드)와 매핑할것인지 정함. (id)
    ```
    2. 주인테이블이 아닌 연결된 테이블(1)에서 @OneToMany(mappedBy="") 를 이용한다.

### 예시 코드
- 회원(Member)과 주문(Orders)   
- 실제로는 db의 외래키 필드와 이 메서드를 연결시켜 주면 된다.
```java
@Entity
@Getter @Setter
public class Member {  // 주문 여러개가 연결되는 1테이블임.

    @Id @GeneratedValue
    @Column(name = "member_id")
    private Long id;

    private String name;

    @Embedded
    private Address address;

    @OneToMany(mappedBy = "member") 
    private List<Order> orders = new ArrayList<>();
    // 연결시키는 필드를 리스트로 만들고
    // @OneToMany어노테이션 적용
    // 그리고 속성 mappedBy = "orders의 필드중에서 매핑할 필드, 즉 member가 된다.." -> orders의 member필드에 의해 매핑되었음을 설정. 즉 mappedBy는 연결관계의 주인이아니라 1테이블에 적는것임.
}

```
```java
@Entity
@Table(name="orders")
@Getter @Setter
public class Order {

    @Id
    @GeneratedValue
    @Column(name = "order_id")
    private Long id;

    @ManyToOne
    @JoinColumn(name = "member_id")
    private Member member;
}

```

### 핵심요약 : 주인 -> @JoinColumn / 주인아닌애 -> (MappedBy= )